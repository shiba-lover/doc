(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{335:function(t,e,a){"use strict";a.r(e);var r=a(4),i=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"阿良api-接口开放平台的设计与开发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阿良api-接口开放平台的设计与开发"}},[t._v("#")]),t._v(" 阿良Api-接口开放平台的设计与开发")]),t._v(" "),e("h2",{attrs:{id:"项目介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目介绍"}},[t._v("#")]),t._v(" 项目介绍")]),t._v(" "),e("h3",{attrs:{id:"_1、项目背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、项目背景"}},[t._v("#")]),t._v(" 1、项目背景")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("1、前端开发需要用到后端提供的接口（比如Swagger）\n2、第三方开发平台（高德开发平台、讯飞星火api）\n")])])]),e("h3",{attrs:{id:"_2、项目功能介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、项目功能介绍"}},[t._v("#")]),t._v(" 2、项目功能介绍")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("  做一个提供API接口调用的平台，用户可以注册登录、开通接口调用权限。用户可以调用接口，并且统计调用次数。管理员可以发布接口、下线接口、接入接口，\n以及可视化接口的调用情况等等。\n")])])]),e("h3",{attrs:{id:"_3、项目安全性考虑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、项目安全性考虑"}},[t._v("#")]),t._v(" 3、项目安全性考虑")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("防止攻击、限制接口调用、统计调用次数、计费、流量保护、第三方api接入\n")])])]),e("h2",{attrs:{id:"业务流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#业务流程"}},[t._v("#")]),t._v(" 业务流程")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("1、管理员提供后台管理系统，进行接口管理（包括发布接口、下线接口、接口设置）。\n2、用户通过前台，访问接口文档、在线调用接口。\n3、使用API网关（kong、nginx、geteway）,处理统计次数、计费、接口保护、鉴权、日志、跨域等业务，防止用户直接访问数据库。\n4、开发SDK提供给开发者使用。\n")])])]),e("h2",{attrs:{id:"技术选型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#技术选型"}},[t._v("#")]),t._v(" 技术选型")]),t._v(" "),e("h3",{attrs:{id:"前端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[t._v("#")]),t._v(" 前端：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("Ant Design Pro\nReact\nAnt Design Pro components\nUmi\nUmi Request\n")])])]),e("h3",{attrs:{id:"后端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[t._v("#")]),t._v(" 后端：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("Springboot\nSpringboot Starter（SDK开发）\n")])])]),e("h2",{attrs:{id:"需求分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#需求分析"}},[t._v("#")]),t._v(" 需求分析")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("1、管理员可以对用户信息、接口信息进行管理\n2、用户可以访问前台，查看接口信息\n3、用户可以调用接口，但需要进行API签名认证。\n")])])]),e("h2",{attrs:{id:"数据库设计"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库设计"}},[t._v("#")]),t._v(" 数据库设计")]),t._v(" "),e("p",[t._v("1、用户表")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("数据类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("bigint")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("数据id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userAccount")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(256)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("登录名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userPassword")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(512)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("加密密码")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("unionId")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(124)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("微信开放平台id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("mpOpenId")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(256)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("微信公众号Id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userName")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(256)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用户名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userAvatar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(1024)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("头像地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userProfile")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(512)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用户简介")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userRole")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(256)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用户角色")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("createTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("datetime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("创建时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("updateTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("datetime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("更新时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("status")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("tinyint")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("账户状态")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("isDelete")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("tinyint")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是否删除")])])])]),t._v(" "),e("p",[t._v("2、接口信息表 interface_info")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("数据类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("int")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("name")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("description")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("描述")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("url")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("method")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("请求类型")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("requestHeader")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("请求头")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("respondHeader")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("响应头")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("status")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("int")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("接口状态，0-关闭，1-开启")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userId")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("bigint")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用户id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("createTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("datetime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("创建时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("updateTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("datetime")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("修改时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("isDelete")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("int")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是否删除，默认0")])])])]),t._v(" "),e("p",[t._v("3、访问键表 access_key")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("字段")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("数据类型")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("bigint")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("数据id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("accessKeyId")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(256)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("访问键id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("accessKeySecret")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("varchar(256)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("访问键密码")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("userId")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("bigint")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("用户id")])])])]),t._v(" "),e("h2",{attrs:{id:"详细设计"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#详细设计"}},[t._v("#")]),t._v(" 详细设计")]),t._v(" "),e("h3",{attrs:{id:"_1、设计脚手架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、设计脚手架"}},[t._v("#")]),t._v(" 1、设计脚手架")]),t._v(" "),e("h4",{attrs:{id:"_1、设计后端脚手架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、设计后端脚手架"}},[t._v("#")]),t._v(" 1、设计后端脚手架")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("可以使用以前的脚手架，也可以现创建脚手架。脚手架应包含统一返回类、关于用户的基本的三层架构、统一异常处理类、使用aop进行日志管理、\n提供swagger接口文档等等。\n")])])]),e("h4",{attrs:{id:"_2、设计前端脚手架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、设计前端脚手架"}},[t._v("#")]),t._v(" 2、设计前端脚手架")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("可以使用已有的脚手架，脚手架应包含有登录注册、用户信息管理、统一请求类等等\n")])])]),e("h3",{attrs:{id:"_2、开发接口相关功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、开发接口相关功能"}},[t._v("#")]),t._v(" 2、开发接口相关功能")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("1、实现接口基本的增删改查\n2、实现API接口认证\n")])])]),e("h2",{attrs:{id:"开发遇到的问题及解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开发遇到的问题及解决"}},[t._v("#")]),t._v(" 开发遇到的问题及解决")]),t._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")])])}),[],!1,null,null,null);e.default=i.exports}}]);